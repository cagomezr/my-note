<!DOCTYPE html>
<html>
  <head>
    <title>My Notes</title>
  </head>

  <body>
    <h1>Hello</h1>

    <script src="https://unpkg.com/filer/dist/filer.min.js"></script>
    <script>
      const fs = new Filer.FileSystem();

      window.addEventListener("DOMContentLoaded", event => {
        console.log("DOM fully loaded and parsed");
        fs.readFile("/note", "utf8", (err, data) => {
          if (err) {
            console.log("Welcome to my notepad!");
          }
          if (data) {
            console.log(data);
          }
        });
      });

      function saveNote() {
        newNote = document.querySelector("#note").innerHTML;
        fs.writeFile("/note", newNote, function(err) {
          if (err) {
            throw err;
          } else {
            console.log(newNote + " saved");
          }
        });
      }
    </script>

    <div id="note" contenteditable></div>
  </body>
</html>
